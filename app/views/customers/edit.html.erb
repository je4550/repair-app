<style>
  .form-container {
    max-width: 600px;
    margin: 0 auto;
    background: white;
    border-radius: 8px;
    padding: 40px;
    box-shadow: 0 1px 3px rgba(0,0,0,0.1);
  }
  
  .form-header {
    margin-bottom: 30px;
  }
  
  .form-header h1 {
    margin: 0 0 10px 0;
    font-size: 24px;
  }
  
  .form-header p {
    color: #6c757d;
    margin: 0;
  }
  
  .form-group {
    margin-bottom: 20px;
  }
  
  .form-label {
    display: block;
    margin-bottom: 8px;
    font-weight: 500;
    color: #495057;
  }
  
  .form-control {
    width: 100%;
    padding: 10px 12px;
    border: 1px solid #ced4da;
    border-radius: 6px;
    font-size: 14px;
    transition: border-color 0.15s ease-in-out;
  }
  
  .form-control:focus {
    outline: none;
    border-color: #dc3545;
    box-shadow: 0 0 0 3px rgba(220, 53, 69, 0.1);
  }
  
  .form-control.is-invalid {
    border-color: #dc3545;
  }
  
  .invalid-feedback {
    display: block;
    margin-top: 4px;
    font-size: 12px;
    color: #dc3545;
  }
  
  .form-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
  }
  
  .form-row-thirds {
    display: grid;
    grid-template-columns: 2fr 1fr 1fr;
    gap: 20px;
  }
  
  .form-actions {
    display: flex;
    gap: 10px;
    margin-top: 30px;
    padding-top: 30px;
    border-top: 1px solid #e9ecef;
  }
  
  .btn {
    padding: 10px 20px;
    border-radius: 6px;
    border: none;
    font-weight: 500;
    cursor: pointer;
    text-decoration: none;
    transition: all 0.2s;
    display: inline-flex;
    align-items: center;
    gap: 8px;
  }
  
  .btn-primary {
    background: #dc3545;
    color: white;
  }
  
  .btn-primary:hover {
    background: #c82333;
    transform: translateY(-1px);
  }
  
  .btn-secondary {
    background: #6c757d;
    color: white;
  }
  
  .btn-secondary:hover {
    background: #5a6268;
  }
  
  .btn-danger {
    background: transparent;
    color: #dc3545;
    border: 1px solid #dc3545;
  }
  
  .btn-danger:hover {
    background: #dc3545;
    color: white;
  }
  
  .required {
    color: #dc3545;
  }
  
  .customer-avatar {
    width: 60px;
    height: 60px;
    background: #dc3545;
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 24px;
    font-weight: 600;
    margin-bottom: 20px;
  }
</style>

<!-- Header -->
<div class="header">
  <h1 style="margin: 0; font-size: 24px;">Edit Customer</h1>
</div>

<!-- Content -->
<div class="content">
  <div class="form-container">
    <div class="form-header">
      <div class="customer-avatar">
        <%= @customer.first_name[0].upcase %><%= @customer.last_name[0].upcase %>
      </div>
      <h1>Edit Customer Information</h1>
      <p>Update <%= @customer.full_name %>'s details</p>
    </div>
    
    <%= form_with model: @customer, local: true do |form| %>
      <% if @customer.errors.any? %>
        <div style="background: #f8d7da; color: #721c24; padding: 12px; border-radius: 6px; margin-bottom: 20px;">
          <strong>Please fix the following errors:</strong>
          <ul style="margin: 8px 0 0 20px; padding: 0;">
            <% @customer.errors.full_messages.each do |message| %>
              <li><%= message %></li>
            <% end %>
          </ul>
        </div>
      <% end %>
      
      <div class="form-row">
        <div class="form-group">
          <%= form.label :first_name, class: "form-label" do %>
            First Name <span class="required">*</span>
          <% end %>
          <%= form.text_field :first_name, 
              class: "form-control #{'is-invalid' if @customer.errors[:first_name].any?}",
              placeholder: "John" %>
          <% if @customer.errors[:first_name].any? %>
            <div class="invalid-feedback">
              <%= @customer.errors[:first_name].first %>
            </div>
          <% end %>
        </div>
        
        <div class="form-group">
          <%= form.label :last_name, class: "form-label" do %>
            Last Name <span class="required">*</span>
          <% end %>
          <%= form.text_field :last_name, 
              class: "form-control #{'is-invalid' if @customer.errors[:last_name].any?}",
              placeholder: "Doe" %>
          <% if @customer.errors[:last_name].any? %>
            <div class="invalid-feedback">
              <%= @customer.errors[:last_name].first %>
            </div>
          <% end %>
        </div>
      </div>
      
      <div class="form-row">
        <div class="form-group">
          <%= form.label :email, class: "form-label" do %>
            Email <span class="required">*</span>
          <% end %>
          <%= form.email_field :email, 
              class: "form-control #{'is-invalid' if @customer.errors[:email].any?}",
              placeholder: "john.doe@example.com" %>
          <% if @customer.errors[:email].any? %>
            <div class="invalid-feedback">
              <%= @customer.errors[:email].first %>
            </div>
          <% end %>
        </div>
        
        <div class="form-group">
          <%= form.label :phone, class: "form-label" do %>
            Phone <span class="required">*</span>
          <% end %>
          <%= form.telephone_field :phone, 
              class: "form-control #{'is-invalid' if @customer.errors[:phone].any?}",
              placeholder: "(555) 123-4567" %>
          <% if @customer.errors[:phone].any? %>
            <div class="invalid-feedback">
              <%= @customer.errors[:phone].first %>
            </div>
          <% end %>
        </div>
      </div>
      
      <div class="form-group">
        <%= form.label :address_line1, "Address", class: "form-label" %>
        <%= form.text_field :address_line1, 
            class: "form-control",
            placeholder: "123 Main Street" %>
      </div>
      
      <div class="form-group">
        <%= form.label :address_line2, "Address Line 2", class: "form-label" %>
        <%= form.text_field :address_line2, 
            class: "form-control",
            placeholder: "Apt, Suite, Unit, etc. (optional)" %>
      </div>
      
      <div class="form-row-thirds">
        <div class="form-group">
          <%= form.label :city, class: "form-label" %>
          <%= form.text_field :city, 
              class: "form-control",
              placeholder: "New York" %>
        </div>
        
        <div class="form-group">
          <%= form.label :state, class: "form-label" %>
          <%= form.select :state, 
              options_for_select([
                ['', ''],
                ['Alabama', 'AL'],
                ['Alaska', 'AK'],
                ['Arizona', 'AZ'],
                ['Arkansas', 'AR'],
                ['California', 'CA'],
                ['Colorado', 'CO'],
                ['Connecticut', 'CT'],
                ['Delaware', 'DE'],
                ['Florida', 'FL'],
                ['Georgia', 'GA'],
                ['Hawaii', 'HI'],
                ['Idaho', 'ID'],
                ['Illinois', 'IL'],
                ['Indiana', 'IN'],
                ['Iowa', 'IA'],
                ['Kansas', 'KS'],
                ['Kentucky', 'KY'],
                ['Louisiana', 'LA'],
                ['Maine', 'ME'],
                ['Maryland', 'MD'],
                ['Massachusetts', 'MA'],
                ['Michigan', 'MI'],
                ['Minnesota', 'MN'],
                ['Mississippi', 'MS'],
                ['Missouri', 'MO'],
                ['Montana', 'MT'],
                ['Nebraska', 'NE'],
                ['Nevada', 'NV'],
                ['New Hampshire', 'NH'],
                ['New Jersey', 'NJ'],
                ['New Mexico', 'NM'],
                ['New York', 'NY'],
                ['North Carolina', 'NC'],
                ['North Dakota', 'ND'],
                ['Ohio', 'OH'],
                ['Oklahoma', 'OK'],
                ['Oregon', 'OR'],
                ['Pennsylvania', 'PA'],
                ['Rhode Island', 'RI'],
                ['South Carolina', 'SC'],
                ['South Dakota', 'SD'],
                ['Tennessee', 'TN'],
                ['Texas', 'TX'],
                ['Utah', 'UT'],
                ['Vermont', 'VT'],
                ['Virginia', 'VA'],
                ['Washington', 'WA'],
                ['West Virginia', 'WV'],
                ['Wisconsin', 'WI'],
                ['Wyoming', 'WY']
              ], @customer.state),
              { prompt: "Select State" },
              class: "form-control" %>
        </div>
        
        <div class="form-group">
          <%= form.label :zip, "ZIP Code", class: "form-label" %>
          <%= form.text_field :zip, 
              class: "form-control #{'is-invalid' if @customer.errors[:zip].any?}",
              placeholder: "10001" %>
          <% if @customer.errors[:zip].any? %>
            <div class="invalid-feedback">
              <%= @customer.errors[:zip].first %>
            </div>
          <% end %>
        </div>
      </div>
      
      <div class="form-group">
        <%= form.label :notes, class: "form-label" %>
        <%= form.text_area :notes, 
            class: "form-control",
            rows: 4,
            placeholder: "Any additional notes about this customer..." %>
      </div>
      
      <div class="form-actions">
        <%= form.submit "Save Changes", class: "btn btn-primary" %>
        <%= link_to "Cancel", @customer, class: "btn btn-secondary" %>
        <div style="margin-left: auto;">
          <%= link_to "Delete Customer", @customer, 
              method: :delete,
              data: { 
                turbo_method: :delete,
                turbo_confirm: "Are you sure you want to delete this customer? This will also delete all their vehicles and appointments." 
              },
              class: "btn btn-danger" %>
        </div>
      </div>
    <% end %>
  </div>
</div>